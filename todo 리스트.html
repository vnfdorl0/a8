<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="todo리스트.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div id="rap">
        <header>
            <h1>todo</h1>
            <label> 할일 입력 <input type="text"></label>
        </header>

        <section>
            
        </section>

    </div>
    <script>
        // input박스에서 enter를 누르면 이벤트가 실행
        let 입력박스 = document.querySelector('input')
        let 섹션 = document.querySelector('section')

        // 입력박스에 키보드 이벤트
        입력박스.addEventListener('keydown', function(event) {
            // enter누른거 구별
            if (event.code == 'Enter' && 입력박스.value != "") {
                console.log('엔터 누름')
                // input에 입력된 값 가져오기
                console.log(입력박스.value)

                //리스트에 들어갈 할 일 만들기
                let div박스 = document.createElement('div')
                div박스.classList.add('todo-list')

                // 하트 추가
                let p태그1 = document.createElement('p')
                p태그1.classList.add('like')
                
                let i태그 = document.createElement('i')
                i태그.classList.add('material-icons')
                i태그.textContent = 'favorite_border'
                p태그1.appendChild(i태그)

                div박스.appendChild(p태그1)

                // 하트 버튼에 이벤트 걸기
                i태그.addEventListener('click', function() {
                    if (i태그.textContent == 'favorite') { // 채워진 하트 라면
                        i태그.textContent = 'favorite_border' // 테두리만 있는 하트로 변환
                    }
                    else { // 채워진 하트가 아니라면
                        i태그.textContent = 'favorite' // 채워진 하트로 변환
                    }
                })
                
                // todo 리스트의 내용에 해당하는 태그
                let p태그2 = document.createElement('p')
                p태그2.classList.add('content')
                p태그2.textContent = 입력박스.value // input에 입력된 내용 가져옴
                div박스.appendChild(p태그2)

                // v x 메뉴 div만들기
                let 관리div = document.createElement('div')
                관리div.classList.add('manage')

                // v태그
                let i태그1 = document.createElement('i') 
                i태그1.classList.add('material-icons')
                i태그1.classList.add('check')
                i태그1.textContent = 'done'
                // v태그 이벤트
                i태그1.addEventListener('click', function() {
                    // 글씨 색이 변하고 취소선 긋기 -> css수정
                    p태그2.style.color = '#888' // 색 변경
                    p태그2.style.textDecoration = 'line-through' // 취소선 긋기
                    // i태그1.style.display = 'none' // v사라지게 하기
                    i태그1.style.visibility = 'hidden' // v버튼 사라지게 하기
                })

                // x태그
                let i태그2 = document.createElement('i')
                i태그2.classList.add('material-icons')
                i태그2.classList.add('clear')
                i태그2.textContent = 'clear'

                // x태그 클릭하면 리스트 삭제
                i태그2.addEventListener('click', function() {
                    섹션.removeChild(div박스)
                })

                관리div.appendChild(i태그1)
                관리div.appendChild(i태그2)

                div박스.appendChild(관리div)

                // 할일 만든거 화면에 넣어주기
                섹션.appendChild(div박스)
                console.log(div박스)

                입력박스.value = ''
            }
        })
    </script>
</body>
</html>